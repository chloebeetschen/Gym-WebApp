<!-- Template for manager analysis -->
{% extends "base.html" %}

{% block content %}
<!--Basic Header-->
<h1>Analysis</h1>

<form method="post" name="analysis" >
    {{ form.hidden_tag() }}

    <input type = "hidden" name="form_id" value="form1">
    <!--Date of activity-->
    <p class="mt-4">
        Date <br>
        {{ form.DateTime(class='form-control')}}
        
    </p>
    {% for error in form.DateTime.errors %}
        [{{ error }}]
    {% endfor %}

    <p class="mt-4">
        Facility <br>
        {{ form.Facility(class='form-control')}}
        
    </p>
    {% for error in form.Facility.errors %}
        [{{ error }}]
    {% endfor %}
    
    <p class="mt-4">
        Activity <br>
        {{ form.ActivityType(class='form-control')}}
        
    </p>
    {% for error in form.ActivityType.errors %}
        [{{ error }}]
    {% endfor %}
    

    <input type="submit" value="Submit">
    
</form>


<script>
    var facility = document.querySelector('#{{ form.Facility.id }}')
    var activity = document.querySelector('#{{ form.ActivityType.id }}')

    facility.addEventListener('input', ()=> {
        if(facility.value !== ''){
            activity.setAttribute('disabled', 'disabled');
        } else {
            activity.removeAttribute('disabled');
        }
    });

    activity.addEventListener('input', ()=> {
        if(activity.value !== ''){
            facility.setAttribute('disabled', 'disabled');
        } else {
            facility.removeAttribute('disabled');
        }
    });

</script>


{% endblock %}