<!-- Template for calender frontend -->
<!--https://www.youtube.com/watch?v=VXW2A4Q81Ok-->
<!--https://leimao.github.io/blog/JavaScript-FullCalendar/-->
{% extends "base.html" %}
{% block content %}

<div class="calendar-container container-fluid">

<!-- Flashed error Messages -->
<div class="d-flex align-items-center flashed-msg-container justify-content-center">
    {% with messages = get_flashed_messages(with_categories=True) %}
        {% if messages %}
        {% for category, message in messages %}
            <div class="{{ category }} alert-box rounded-4 p-5">
            <span class="closebtn" onclick="this.parentElement.style.display='none';">&times</span>
            {{ message }}
            </div>
        {% endfor %}
        {% endif %}
    {% endwith %}
</div>

<div id="calendar">

</div>



<script>
    let cElem = document.getElementById('calendar');

    let calendar = new FullCalendar.Calendar(cElem, { 
        headerToolbar: {
            left: 'prevYear,prev,next,nextYear today',
            center: 'title',
            right: 'dayGridMonth,dayGridWeek,dayGridDay'
        },
        navLinks: true, // can click day/week names to navigate views
        editable: true,
        dayMaxEvents: true, // allow "more" link when too many events
        events: [
            {% for i in events %}
            {
                title : '{{i.type}}',
                start : '{{i.time}}',
            },
            {% endfor %}
        ]   
    });

    calendar.render();
</script>
{% endblock %}