{% extends "base.html" %}
{% block content %}

<!--Basic Header-->
<h1>Manage Users</h1>

<div>
    <h2>Search by email or name...</h2>
    <form method="post" name="search">
        {{ form.hidden_tag() }}
        <input type="submit" class="btn btn-primary" value="Search">
        {{ form.search(class='form-control')}}
    </form>

</div>

<h2>Customers</h2>
<!--Basic table to hold booking information of a user-->
<table class="table">
    <thead>
        <tr>
            <th>Email</th>
            <th>Bookings</th>
            <th>Edit</th>
            <th>Delete</th>
        </tr>
    </thead>
    <tbody>
        {% if userTypeNum1 != 0 %}
            {% for i in range (0 , userTypeNum1) %}
                <tr>
                    <!--display event and event info in the tables-->
                    <td>{{userTypeLogin1[i].email}}</td>
                    <td>    
                        <a href="/calendar/{{userTypeLogin1[i].id}}"><button type="button" class="btns">Make Booking</button></a>
                        <a href="/proxyEdit/{{userTypeLogin1[i].id}}"><button type="button" class="btns">Edit Bookings</button></a>
                    </td>
                    <td>    
                        <a href="/editUser/{{userTypeLogin1[i].id}}"><button type="button" class="btns">Edit</button></a>
                    </td>
                    <td>    
                        <a href="/deleteUser/{{userTypeLogin1[i].id}}"><button type="button" class="btns">Delete</button></a>
                    </td>
                </tr>
            {% endfor %}
        {% endif %}
    </tbody>
</table>

<!-- Only managers should be able to alter Employee or User accounts -->
{% if userType == 3 %}

<h2>Employees</h2>
<!--Basic table to hold booking information of a user-->
<table class="table">
    <thead>
        <tr>
            <!--<th>Type</th>-->
            <!--<th>Name</th>-->
            <th>Email</th>
            <th>Edit</th>
            <th>Delete</th>
        </tr>
    </thead>
    <tbody>
        {% if userTypeNum2 != 0 %}
            {% for i in range (0 , userTypeNum2) %}
                <tr>
                    <!--display event and event info in the tables-->
                        <td>{{userTypeLogin2[i].email}}</td>
                    <!--Delete activity button-->
                    <td>    
                        <a href="/editUser/{{userTypeLogin2[i].id}}"><button type="button" class="btns">Edit</button></a>
                    </td>
                    <td>    
                        <a href="/deleteUser/{{userTypeLogin2[i].id}}"><button type="button" class="btns">Delete</button></a>
                    </td>
                </tr>
            {% endfor %}
        {% endif %}
    </tbody>
</table>

<h2>Managers</h2>
<!--Basic table to hold booking information of a user-->
<table class="table">
    <thead>
        <tr>
            <!--<th>Type</th>-->
            <!--<th>Name</th>-->
            <th>Email</th>
            <th>Edit</th>
            <th>Delete</th>
        </tr>
    </thead>
    <tbody>
        {% if userTypeNum3 != 0 %}
            {% for i in range (0 , userTypeNum3) %}
                <tr>
                    <!--display event and event info in the tables-->
                        <td>{{userTypeLogin3[i].email}}</td>
                    <!--Delete activity button-->
                    <td>    
                        <a href="/editUser/{{userTypeLogin3[i].id}}"><button type="button" class="btns">Edit</button></a>
                    </td>
                    <td>    
                        <a href="/deleteUser/{{userTypeLogin3[i].id}}"><button type="button" class="btns">Delete</button></a>
                    </td>
                </tr>
            {% endfor %}
        {% endif %}
    </tbody>
</table>

{% endif %}
{% endblock %}