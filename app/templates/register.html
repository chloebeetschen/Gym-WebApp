<!-- Template for register frontend -->
{% extends "base.html" %}
{% block content %}

<div class="login-reg-bg">
	<!-- Flashed error Messages -->
	<div class="d-flex align-items-center flashed-msg-container justify-content-center">
		{% with messages = get_flashed_messages(with_categories=True) %}
			{% if messages %}
			{% for category, message in messages %}
				<div class="{{ category }} alert-box rounded-4 p-5">
				<span class="closebtn" onclick="this.parentElement.style.display='none';">&times</span>
				{{ message }}
				</div>
			{% endfor %}
			{% endif %}
		{% endwith %}
	</div>
	<!--Begining of registration form-->
	<div class=" login-reg-form-container register-container rounded-4 p-4 pt-3 box-shadow">
		<div class="col border-bottom">
			<h1 class="fw-bold">Register</h1>
		</div>
		<form action="" method="post" name="register">
			{{ form.hidden_tag() }}
			<div class="row pb-3">
				<!--Name - text-->
				<div class="col">
					<label for="name" class="fw-bold pb-2">Name</label>
					{{ form.Name(class_='form-control', id="name") }}
				</div>
			</div>
			<div class="row pb-3">
				<div class="col">
					<!-- Date of Birth - text or calendar-->
					<label for="dob" class="fw-bold pb-2">Date of Birth</label>
					{{ form.DateOfBirth(class_='form-control', id="dob") }}
				</div>
			</div>
			<div class="row pb-3">
				<div class="col">
					<!--Email - text-->
					<label for="email" class="fw-bold pb-2">Email</label>
					{{ form.Email(class_='form-control', id="Email") }}
				</div>
			</div>
			<div class="row pb-3">
				<div class="col">
					<!--Password - text-->
					<label for="pwd" class="fw-bold pb-2">Password</label>
					{{ form.Password(class_='form-control', id="pwd") }}
				</div>
			</div>
			<div class="row pb-3">
				<div class="col">
					<!--Confirm password - text-->
					<label for="pwd2" class="fw-bold pb-2">Re-Enter Password</label>
					<!-- Check if passwords match-->
					{{ form.ReenterPassword(class_='form-control', id="pwd2") }}
				</div>
			</div>
			<div class="row">
				<div class="col">
					<!--Submit request to register as a user-->
					<p><input type="submit" class="btn btn-primary" value="Submit"></p>
				</div>
			</div>
		</form>
	</div>
</div>

<!-- Flashed Messages -->
<div class="d-flex align-items-center flashed-msg-container justify-content-center">
	{% for error in form.DateOfBirth.errors%}
	<div class="form-error rounded-4 p-5">
		<span class="closebtn" onclick="this.parentElement.style.display='none';">&times</span>
		{{ error }}
	</div>
	{% endfor %}
</div>

<!-- Flashed Messages -->
<div class="d-flex align-items-center flashed-msg-container justify-content-center">
	{% for error in form.Email.errors%}
	<div class="form-error rounded-4 p-5">
		<span class="closebtn" onclick="this.parentElement.style.display='none';">&times</span>
		{{ error }}
	</div>
	{% endfor %}
</div>


<!-- Flashed Messages -->
<div class="d-flex align-items-center flashed-msg-container justify-content-center">
	{% for error in form.ReenterPassword.errors%}
	<div class="form-error rounded-4 p-5">
		<span class="closebtn" onclick="this.parentElement.style.display='none';">&times</span>
		{{ error }}
	</div>
	{% endfor %}
</div>

<!-- Flashed Messages -->
<div class="d-flex align-items-center flashed-msg-container justify-content-center">
	{% for error in form.Password.errors%}
	<div class="form-error rounded-4 p-5">
		<span class="closebtn" onclick="this.parentElement.style.display='none';">&times</span>
		{{ error }}
	</div>
	{% endfor %}
</div>
{% endblock %}